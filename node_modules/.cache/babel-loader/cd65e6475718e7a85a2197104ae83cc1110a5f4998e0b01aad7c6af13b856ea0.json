{"ast":null,"code":"import _objectSpread from\"F:/bmt_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * คำนวณสถิติผู้เล่นทั้งหมด\r\n */export const calculatePlayerStats=(members,matches)=>{const stats={};// สร้าง object สำหรับเก็บสถิติแต่ละคน\nmembers.forEach(member=>{stats[member.name]=_objectSpread(_objectSpread({},member),{},{totalGames:0,gamesWon:0,totalScore:0,matchesPlayed:0});});// คำนวณจาก matches\nmatches.forEach(match=>{const team1Players=[match.team1Player1,match.team1Player2];const team2Players=[match.team2Player1,match.team2Player2];const team1Won=parseInt(match.scoreTeam1)>parseInt(match.scoreTeam2)?1:0;const team2Won=parseInt(match.scoreTeam2)>parseInt(match.scoreTeam1)?1:0;team1Players.forEach(playerName=>{if(stats[playerName]){stats[playerName].totalGames+=1;stats[playerName].gamesWon+=team1Won;stats[playerName].totalScore+=parseInt(match.scoreTeam1)||0;stats[playerName].matchesPlayed++;}});team2Players.forEach(playerName=>{if(stats[playerName]){stats[playerName].totalGames+=1;stats[playerName].gamesWon+=team2Won;stats[playerName].totalScore+=parseInt(match.scoreTeam2)||0;stats[playerName].matchesPlayed++;}});});// เรียงตามคะแนนรวม\nreturn Object.values(stats).sort((a,b)=>b.totalScore-a.totalScore);};/**\r\n * คำนวณคะแนนรวมของแต่ละทีม\r\n */export const calculateTeamStats=(playerStats,team)=>{const teamPlayers=playerStats.filter(p=>p.team===team);return{totalScore:teamPlayers.reduce((sum,p)=>sum+p.totalScore,0),totalSetsWon:teamPlayers.reduce((sum,p)=>sum+p.gamesWon,0),totalPlayers:teamPlayers.length,totalMatches:teamPlayers.reduce((sum,p)=>sum+p.matchesPlayed,0)};};","map":{"version":3,"names":["calculatePlayerStats","members","matches","stats","forEach","member","name","_objectSpread","totalGames","gamesWon","totalScore","matchesPlayed","match","team1Players","team1Player1","team1Player2","team2Players","team2Player1","team2Player2","team1Won","parseInt","scoreTeam1","scoreTeam2","team2Won","playerName","Object","values","sort","a","b","calculateTeamStats","playerStats","team","teamPlayers","filter","p","reduce","sum","totalSetsWon","totalPlayers","length","totalMatches"],"sources":["F:/bmt_app/src/utils/calculations.js"],"sourcesContent":["/**\r\n * คำนวณสถิติผู้เล่นทั้งหมด\r\n */\r\nexport const calculatePlayerStats = (members, matches) => {\r\n  const stats = {};\r\n  \r\n  // สร้าง object สำหรับเก็บสถิติแต่ละคน\r\n  members.forEach(member => {\r\n    stats[member.name] = {\r\n      ...member,\r\n      totalGames: 0,\r\n      gamesWon: 0,\r\n      totalScore: 0,\r\n      matchesPlayed: 0\r\n    };\r\n  });\r\n  \r\n  // คำนวณจาก matches\r\n  matches.forEach(match => {\r\n    const team1Players = [match.team1Player1, match.team1Player2];\r\n    const team2Players = [match.team2Player1, match.team2Player2];\r\n    const team1Won = parseInt(match.scoreTeam1) > parseInt(match.scoreTeam2) ? 1 : 0;\r\n    const team2Won = parseInt(match.scoreTeam2) > parseInt(match.scoreTeam1) ? 1 : 0;\r\n    \r\n    team1Players.forEach(playerName => {\r\n      if (stats[playerName]) {\r\n        stats[playerName].totalGames += 1;\r\n        stats[playerName].gamesWon += team1Won;\r\n        stats[playerName].totalScore += parseInt(match.scoreTeam1) || 0;\r\n        stats[playerName].matchesPlayed++;\r\n      }\r\n    });\r\n    \r\n    team2Players.forEach(playerName => {\r\n      if (stats[playerName]) {\r\n        stats[playerName].totalGames += 1;\r\n        stats[playerName].gamesWon += team2Won;\r\n        stats[playerName].totalScore += parseInt(match.scoreTeam2) || 0;\r\n        stats[playerName].matchesPlayed++;\r\n      }\r\n    });\r\n  });\r\n  \r\n  // เรียงตามคะแนนรวม\r\n  return Object.values(stats).sort((a, b) => b.totalScore - a.totalScore);\r\n};\r\n\r\n/**\r\n * คำนวณคะแนนรวมของแต่ละทีม\r\n */\r\nexport const calculateTeamStats = (playerStats, team) => {\r\n  const teamPlayers = playerStats.filter(p => p.team === team);\r\n  return {\r\n    totalScore: teamPlayers.reduce((sum, p) => sum + p.totalScore, 0),\r\n    totalSetsWon: teamPlayers.reduce((sum, p) => sum + p.gamesWon, 0),\r\n    totalPlayers: teamPlayers.length,\r\n    totalMatches: teamPlayers.reduce((sum, p) => sum + p.matchesPlayed, 0)\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}